<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Highcharts test</title>
</head>

<body>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <div id="chart" style="max-width: 600px"></div>
    <div id="chart2" style="max-width: 600px"></div>
    <script>
        var data = {"2012-03-20": {"haha": 5, "wc": 229156, "hahaIndex": 39}, "2017-04-04": {"haha": 18, "wc": 2535395, "hahaIndex": 13}, "2011-11-04": {"haha": 6, "wc": 531535, "hahaIndex": 20}, "2014-09-16": {"haha": 34, "wc": 2599638, "hahaIndex": 24}, "2010-09-21": {"haha": 15, "wc": 788906, "hahaIndex": 34}, "2019-06-26": {"haha": 19, "wc": 760050, "hahaIndex": 45}, "2012-12-04": {"haha": 14, "wc": 1701356, "hahaIndex": 15}, "2013-07-17": {"haha": 2, "wc": 246843, "hahaIndex": 15}, "2014-09-02": {"haha": 1, "wc": 211895, "hahaIndex": 8}, "2016-09-06": {"haha": 17, "wc": 2158384, "hahaIndex": 14}, "2012-09-04": {"haha": 2, "wc": 783084, "hahaIndex": 5}, "2012-03-13": {"haha": 10, "wc": 999232, "hahaIndex": 18}, "2015-09-15": {"haha": 23, "wc": 2117111, "hahaIndex": 20}, "2017-05-16": {"haha": 12, "wc": 2459453, "hahaIndex": 9}, "2019-05-28": {"haha": 30, "wc": 2573877, "hahaIndex": 21}, "2012-06-05": {"haha": 26, "wc": 2105004, "hahaIndex": 22}, "2011-08-30": {"haha": 9, "wc": 981710, "hahaIndex": 17}, "2016-06-28": {"haha": 26, "wc": 1816654, "hahaIndex": 26}, "2014-10-21": {"haha": 32, "wc": 2077502, "hahaIndex": 28}, "2016-04-12": {"haha": 14, "wc": 2796618, "hahaIndex": 9}, "2010-09-07": {"haha": 2, "wc": 128326, "hahaIndex": 28}, "2013-12-06": {"haha": 7, "wc": 96853, "hahaIndex": 130}, "2012-04-27": {"haha": 6, "wc": 374055, "hahaIndex": 29}, "2015-10-27": {"haha": 8, "wc": 453450, "hahaIndex": 32}, "2011-12-06": {"haha": 29, "wc": 2071907, "hahaIndex": 25}, "2013-12-04": {"haha": 8, "wc": 136956, "hahaIndex": 105}, "2013-12-10": {"haha": 14, "wc": 607599, "hahaIndex": 41}, "2015-04-28": {"haha": 27, "wc": 1989309, "hahaIndex": 24}, "2010-12-07": {"haha": 41, "wc": 1883940, "hahaIndex": 39}, "2018-02-27": {"haha": 21, "wc": 1946731, "hahaIndex": 19}, "2014-12-02": {"haha": 30, "wc": 2192044, "hahaIndex": 25}, "2014-11-04": {"haha": 6, "wc": 408245, "hahaIndex": 26}, "2013-02-05": {"haha": 9, "wc": 1941021, "hahaIndex": 8}, "2012-07-18": {"haha": 8, "wc": 347813, "hahaIndex": 41}, "2015-06-18": {"haha": 4, "wc": 463171, "hahaIndex": 16}, "2017-09-05": {"haha": 18, "wc": 1272724, "hahaIndex": 25}, "2018-10-23": {"haha": 28, "wc": 2833580, "hahaIndex": 18}, "2011-06-07": {"haha": 24, "wc": 2109509, "hahaIndex": 20}, "2018-11-15": {"haha": 1, "wc": 61589, "hahaIndex": 29}, "2011-03-15": {"haha": 27, "wc": 1214182, "hahaIndex": 40}, "2013-03-19": {"haha": 13, "wc": 1368808, "hahaIndex": 17}, "2011-10-25": {"haha": 96, "wc": 3745072, "hahaIndex": 46}, "2014-04-29": {"haha": 39, "wc": 1770985, "hahaIndex": 40}, "2011-04-26": {"haha": 65, "wc": 2161189, "hahaIndex": 54}, "2010-09-23": {"haha": 2, "wc": 69747, "hahaIndex": 52}, "2012-04-24": {"haha": 15, "wc": 1004796, "hahaIndex": 27}, "2018-01-17": {"haha": 16, "wc": 1472390, "hahaIndex": 20}, "2017-02-21": {"haha": 13, "wc": 2456687, "hahaIndex": 10}, "2017-01-10": {"haha": 30, "wc": 2941109, "hahaIndex": 18}, "2014-02-04": {"haha": 21, "wc": 2277796, "hahaIndex": 17}, "2014-01-21": {"haha": 10, "wc": 487847, "hahaIndex": 37}, "2018-11-23": {"haha": 8, "wc": 316284, "hahaIndex": 46}, "2015-10-01": {"haha": 2, "wc": 55198, "hahaIndex": 65}, "2014-06-10": {"haha": 31, "wc": 2129315, "hahaIndex": 26}, "2015-06-16": {"haha": 24, "wc": 2419361, "hahaIndex": 18}, "2012-10-23": {"haha": 41, "wc": 1778294, "hahaIndex": 42}, "2015-03-10": {"haha": 42, "wc": 2425811, "hahaIndex": 31}, "2015-05-26": {"haha": 18, "wc": 322578, "hahaIndex": 100}, "2016-01-28": {"haha": 1, "wc": 102270, "hahaIndex": 18}, "2011-09-22": {"haha": 2, "wc": 104577, "hahaIndex": 34}, "2016-11-29": {"haha": 17, "wc": 1978233, "hahaIndex": 15}, "2014-09-10": {"haha": 1, "wc": 320888, "hahaIndex": 6}, "2013-11-25": {"haha": 2, "wc": 301086, "hahaIndex": 12}, "2010-11-02": {"haha": 6, "wc": 226041, "hahaIndex": 48}, "2018-04-10": {"haha": 19, "wc": 1983236, "hahaIndex": 17}, "2011-02-01": {"haha": 21, "wc": 1460536, "hahaIndex": 26}, "2010-12-21": {"haha": 12, "wc": 254758, "hahaIndex": 85}, "2016-03-23": {"haha": 11, "wc": 195171, "hahaIndex": 101}, "2013-06-11": {"haha": 9, "wc": 742480, "hahaIndex": 22}, "2015-11-24": {"haha": 36, "wc": 2915169, "hahaIndex": 22}, "2011-07-12": {"haha": 17, "wc": 657004, "hahaIndex": 47}, "2018-07-11": {"haha": 22, "wc": 580800, "hahaIndex": 68}, "2013-01-17": {"haha": 3, "wc": 394822, "hahaIndex": 14}, "2019-05-29": {"haha": 1, "wc": 258225, "hahaIndex": 7}, "2018-12-04": {"haha": 34, "wc": 2021303, "hahaIndex": 30}, "2017-05-10": {"haha": 16, "wc": 332374, "hahaIndex": 87}, "2014-12-12": {"haha": 5, "wc": 261685, "hahaIndex": 34}, "2018-08-22": {"haha": 3, "wc": 200098, "hahaIndex": 27}, "2010-10-26": {"haha": 27, "wc": 1353288, "hahaIndex": 36}, "2016-03-01": {"haha": 16, "wc": 2400355, "hahaIndex": 12}, "2016-10-18": {"haha": 18, "wc": 2585242, "hahaIndex": 13}, "2010-06-22": {"haha": 1, "wc": 106388, "hahaIndex": 17}, "2018-05-22": {"haha": 37, "wc": 2552964, "hahaIndex": 26}, "2019-03-05": {"haha": 28, "wc": 2678084, "hahaIndex": 19}, "2018-03-07": {"haha": 2, "wc": 75806, "hahaIndex": 47}, "2014-03-18": {"haha": 16, "wc": 1525749, "hahaIndex": 19}, "2014-07-15": {"haha": 9, "wc": 1495751, "hahaIndex": 11}, "2019-04-16": {"haha": 19, "wc": 2147966, "hahaIndex": 16}, "2012-07-10": {"haha": 24, "wc": 970917, "hahaIndex": 44}, "2012-01-31": {"haha": 10, "wc": 1773118, "hahaIndex": 10}, "2013-08-16": {"haha": 2, "wc": 149691, "hahaIndex": 24}, "2016-01-19": {"haha": 16, "wc": 2769919, "hahaIndex": 10}, "2015-12-11": {"haha": 23, "wc": 1107044, "hahaIndex": 37}, "2017-10-16": {"haha": 4, "wc": 366041, "hahaIndex": 20}, "2016-04-21": {"haha": 2, "wc": 89301, "hahaIndex": 40}, "2018-09-11": {"haha": 25, "wc": 2642348, "hahaIndex": 17}, "2012-02-09": {"haha": 1, "wc": 151259, "hahaIndex": 12}, "2019-07-09": {"haha": 12, "wc": 1127865, "hahaIndex": 19}, "2014-07-24": {"haha": 1, "wc": 111544, "hahaIndex": 16}, "2013-05-07": {"haha": 8, "wc": 1493698, "hahaIndex": 10}, "2010-08-10": {"haha": 2, "wc": 319898, "hahaIndex": 11}, "2017-12-12": {"haha": 13, "wc": 630230, "hahaIndex": 37}, "2016-11-11": {"haha": 7, "wc": 211402, "hahaIndex": 60}, "2019-01-22": {"haha": 26, "wc": 2708095, "hahaIndex": 17}, "2018-03-09": {"haha": 9, "wc": 167569, "hahaIndex": 97}, "2018-01-10": {"haha": 5, "wc": 371647, "hahaIndex": 24}, "2018-06-26": {"haha": 6, "wc": 1151461, "hahaIndex": 9}, "2012-09-18": {"haha": 33, "wc": 1522300, "hahaIndex": 39}, "2015-10-06": {"haha": 40, "wc": 2746432, "hahaIndex": 26}, "2013-08-07": {"haha": 10, "wc": 675395, "hahaIndex": 27}, "2017-11-20": {"haha": 11, "wc": 306160, "hahaIndex": 65}, "2017-06-27": {"haha": 10, "wc": 1894870, "hahaIndex": 9}, "2011-09-20": {"haha": 13, "wc": 1032389, "hahaIndex": 23}, "2016-05-24": {"haha": 13, "wc": 1903232, "hahaIndex": 12}, "2015-01-20": {"haha": 47, "wc": 2033359, "hahaIndex": 42}}

        var persData = [{ "name": "Vítězslav Jandák", "wc": 98257, "haha": 34, "hahaIndex": 623 }, { "name": "David Vodrážka", "wc": 19404, "haha": 3, "hahaIndex": 278 }, { "name": "Jiří Krátký", "wc": 117981, "haha": 13, "hahaIndex": 198 }, { "name": "Milan Brázdil", "wc": 51074, "haha": 5, "hahaIndex": 176 }, { "name": "Josef Hájek", "wc": 252595, "haha": 18, "hahaIndex": 128 }, { "name": "Miroslav Kalousek", "wc": 4176883, "haha": 261, "hahaIndex": 112 }, { "name": "Václav Klaus", "wc": 244471, "haha": 15, "hahaIndex": 110 }, { "name": "Jan Lipavský", "wc": 68047, "haha": 4, "hahaIndex": 106 }, { "name": "Lubomír Volný", "wc": 67770, "haha": 4, "hahaIndex": 106 }, { "name": "Jiří Šulc", "wc": 51810, "haha": 3, "hahaIndex": 104 }];

        Highcharts.chart("chart", {
            title: {
                text: "Smíchový index jednání Poslanecké sněmovny"
            },
            subtitle: {
                text: "Počet záznamů o smíchu poslanců ve stenoprotokolech, přepočteno na 1000 normostran"
            },
            credits: {
                text: "Zdroj: Stenoprotokoly PSP",
                href: "http://www.psp.cz/eknih/2017ps/stenprot/index.htm"
            },
            chart: {
                type: 'column'
            },
            xAxis: {
                type: "datetime"
            },
            yAxis: {
                title: ""
            },
            tooltip: {
                formatter: function formatter() {
                    var _this = this;

                    var loc = data[Object.keys(data).filter(function (el) {
                        return new Date(el).getTime() === _this.x;
                    })[0]];
                    return "<b>" + new Date(this.x).toLocaleDateString("cs-CZ") + "</b><br>" + "Smíchový index: <b>" + this.y + "</b><br>" + "Normostran: <b>" + Math.round(loc.wc / 1800) + "</b><br>" + "Smíchů: <b>" + loc.haha + "</b>";
                }
            },
            series: [{
                name: "Smíchový index",
                data: Object.keys(data).map(function (el) {
                    return [new Date(el).getTime(), data[el].hahaIndex];
                }).sort()
            }],
            plotOptions: {
                column: {
                    pointWidth: 2,
                }
            }
        });
        Highcharts.chart("chart2", {
            title: {
                text: "Smíchový index poslanců od roku 2010"
            },
            subtitle: {
                text: "Počet záznamů o smíchu při projevech poslanců, přepočteno na 1000 normostran"
            },
            credits: {
                text: "Zdroj: Stenoprotokoly PSP",
                href: "http://www.psp.cz/eknih/2017ps/stenprot/index.htm"
            },
            chart: {
                type: "column"
            },
            yAxis: {
                title: ""
            },
            xAxis: {
                categories: persData.map(function (el) {
                    return el.name;
                })
            },
            tooltip: {
                formatter: function formatter() {
                    var _this2 = this;

                    var loc = persData.filter(function (el) {
                        return el.name === _this2.x;
                    })[0];
                    return "<b>" + this.x + "</b><br>" + "Smíchový index: <b>" + this.y + "</b><br>" + "Normostran: <b>" + Math.round(loc.wc / 1800) + "</b><br>" + "Smíchů: <b>" + loc.haha + "</b>";
                }
            },
            series: [{
                name: "Smíchový index",
                data: persData.map(function (el) {
                    return el.hahaIndex;
                })
            }]
        });
    </script>

</body>

</html>
